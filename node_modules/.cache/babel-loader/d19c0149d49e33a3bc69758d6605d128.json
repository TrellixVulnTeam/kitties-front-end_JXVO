{"ast":null,"code":"import _slicedToArray from\"/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,createRef}from'react';import{Container,Dimmer,Loader,Grid,Sticky,Message}from'semantic-ui-react';import'semantic-ui-css/semantic.min.css';import{SubstrateContextProvider,useSubstrate}from'./substrate-lib';import{DeveloperConsole}from'./substrate-lib/components';import AccountSelector from'./AccountSelector';import Balances from'./Balances';import BlockNumber from'./BlockNumber';import Events from'./Events';import Interactor from'./Interactor';import Kitties from'./Kitties';import Metadata from'./Metadata';import NodeInfo from'./NodeInfo';import TemplateModule from'./TemplateModule';import Transfer from'./Transfer';import Upgrade from'./Upgrade';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),accountAddress=_useState2[0],setAccountAddress=_useState2[1];var _useSubstrate=useSubstrate(),apiState=_useSubstrate.apiState,keyring=_useSubstrate.keyring,keyringState=_useSubstrate.keyringState,apiError=_useSubstrate.apiError;var accountPair=accountAddress&&keyringState==='READY'&&keyring.getPair(accountAddress);var loader=function loader(text){return/*#__PURE__*/_jsx(Dimmer,{active:true,children:/*#__PURE__*/_jsx(Loader,{size:\"small\",children:text})});};var message=function message(err){return/*#__PURE__*/_jsx(Grid,{centered:true,columns:2,padded:true,children:/*#__PURE__*/_jsx(Grid.Column,{children:/*#__PURE__*/_jsx(Message,{negative:true,compact:true,floating:true,header:\"Error Connecting to Substrate\",content:\"\".concat(JSON.stringify(err,null,4))})})});};if(apiState==='ERROR')return message(apiError);else if(apiState!=='READY')return loader('Connecting to Substrate');if(keyringState!=='READY'){return loader('Loading accounts (please review any extension\\'s authorization)');}var contextRef=/*#__PURE__*/createRef();return/*#__PURE__*/_jsxs(\"div\",{ref:contextRef,children:[/*#__PURE__*/_jsx(Sticky,{context:contextRef,children:/*#__PURE__*/_jsx(AccountSelector,{setAccountAddress:setAccountAddress})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Grid,{stackable:true,columns:\"equal\",children:[/*#__PURE__*/_jsxs(Grid.Row,{stretched:true,children:[/*#__PURE__*/_jsx(NodeInfo,{}),/*#__PURE__*/_jsx(Metadata,{}),/*#__PURE__*/_jsx(BlockNumber,{}),/*#__PURE__*/_jsx(BlockNumber,{finalized:true})]}),/*#__PURE__*/_jsx(Grid.Row,{stretched:true,children:/*#__PURE__*/_jsx(Balances,{})}),/*#__PURE__*/_jsxs(Grid.Row,{children:[/*#__PURE__*/_jsx(Transfer,{accountPair:accountPair}),/*#__PURE__*/_jsx(Upgrade,{accountPair:accountPair})]}),/*#__PURE__*/_jsxs(Grid.Row,{children:[/*#__PURE__*/_jsx(Interactor,{accountPair:accountPair}),/*#__PURE__*/_jsx(Events,{})]}),/*#__PURE__*/_jsx(Grid.Row,{children:/*#__PURE__*/_jsx(TemplateModule,{accountPair:accountPair})}),/*#__PURE__*/_jsx(Grid.Row,{children:/*#__PURE__*/_jsx(Kitties,{accountPair:accountPair})})]})}),/*#__PURE__*/_jsx(DeveloperConsole,{})]});}export default function App(){return/*#__PURE__*/_jsx(SubstrateContextProvider,{children:/*#__PURE__*/_jsx(Main,{})});}","map":{"version":3,"sources":["/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/src/App.js"],"names":["React","useState","createRef","Container","Dimmer","Loader","Grid","Sticky","Message","SubstrateContextProvider","useSubstrate","DeveloperConsole","AccountSelector","Balances","BlockNumber","Events","Interactor","Kitties","Metadata","NodeInfo","TemplateModule","Transfer","Upgrade","Main","accountAddress","setAccountAddress","apiState","keyring","keyringState","apiError","accountPair","getPair","loader","text","message","err","JSON","stringify","contextRef","App"],"mappings":"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","sourcesContent":["import React, { useState, createRef } from 'react'\nimport { Container, Dimmer, Loader, Grid, Sticky, Message } from 'semantic-ui-react'\nimport 'semantic-ui-css/semantic.min.css'\n\nimport { SubstrateContextProvider, useSubstrate } from './substrate-lib'\nimport { DeveloperConsole } from './substrate-lib/components'\n\nimport AccountSelector from './AccountSelector'\nimport Balances from './Balances'\nimport BlockNumber from './BlockNumber'\nimport Events from './Events'\nimport Interactor from './Interactor'\nimport Kitties from './Kitties'\nimport Metadata from './Metadata'\nimport NodeInfo from './NodeInfo'\nimport TemplateModule from './TemplateModule'\nimport Transfer from './Transfer'\nimport Upgrade from './Upgrade'\n\nfunction Main () {\n  const [accountAddress, setAccountAddress] = useState(null)\n  const { apiState, keyring, keyringState, apiError } = useSubstrate()\n  const accountPair =\n    accountAddress &&\n    keyringState === 'READY' &&\n    keyring.getPair(accountAddress)\n\n  const loader = text =>\n    <Dimmer active>\n      <Loader size='small'>{text}</Loader>\n    </Dimmer>\n\n  const message = err =>\n    <Grid centered columns={2} padded>\n      <Grid.Column>\n        <Message negative compact floating\n          header='Error Connecting to Substrate'\n          content={`${JSON.stringify(err, null, 4)}`}\n        />\n      </Grid.Column>\n    </Grid>\n\n  if (apiState === 'ERROR') return message(apiError)\n  else if (apiState !== 'READY') return loader('Connecting to Substrate')\n\n  if (keyringState !== 'READY') {\n    return loader('Loading accounts (please review any extension\\'s authorization)')\n  }\n\n  const contextRef = createRef()\n\n  return (\n    <div ref={contextRef}>\n      <Sticky context={contextRef}>\n        <AccountSelector setAccountAddress={setAccountAddress} />\n      </Sticky>\n      <Container>\n        <Grid stackable columns='equal'>\n          <Grid.Row stretched>\n            <NodeInfo />\n            <Metadata />\n            <BlockNumber />\n            <BlockNumber finalized />\n          </Grid.Row>\n          <Grid.Row stretched>\n            <Balances />\n          </Grid.Row>\n          <Grid.Row>\n            <Transfer accountPair={accountPair} />\n            <Upgrade accountPair={accountPair} />\n          </Grid.Row>\n          <Grid.Row>\n            <Interactor accountPair={accountPair} />\n            <Events />\n          </Grid.Row>\n          <Grid.Row>\n            <TemplateModule accountPair={accountPair} />\n          </Grid.Row>\n          <Grid.Row>\n            <Kitties accountPair={accountPair} />\n          </Grid.Row>\n        </Grid>\n      </Container>\n      <DeveloperConsole />\n    </div>\n  )\n}\n\nexport default function App () {\n  return (\n    <SubstrateContextProvider>\n      <Main />\n    </SubstrateContextProvider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}