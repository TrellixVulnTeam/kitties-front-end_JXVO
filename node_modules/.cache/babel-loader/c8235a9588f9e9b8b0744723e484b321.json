{"ast":null,"code":"// Copyright 2017-2021 @polkadot/types authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { stringCamelCase } from '@polkadot/util';\n\nfunction isEvent(event, sectionIndex, eventIndex) {\n  return event.index[0] === sectionIndex && event.index[1] === eventIndex;\n}\n/** @internal */\n\n\nexport function decorateEvents(_, _ref, metaVersion) {\n  var modules = _ref.modules;\n  return modules.filter(function (_ref2) {\n    var events = _ref2.events;\n    return events.isSome;\n  }).reduce(function (result, _ref3, _sectionIndex) {\n    var events = _ref3.events,\n        index = _ref3.index,\n        name = _ref3.name;\n    var sectionIndex = metaVersion >= 12 ? index.toNumber() : _sectionIndex;\n    result[stringCamelCase(name)] = events.unwrap().reduce(function (newModule, meta, eventIndex) {\n      // we don't camelCase the event name\n      newModule[meta.name.toString()] = {\n        is: function is(eventRecord) {\n          return isEvent(eventRecord, sectionIndex, eventIndex);\n        },\n        meta: meta\n      };\n      return newModule;\n    }, {});\n    return result;\n  }, {});\n}","map":{"version":3,"sources":["/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/@polkadot/types/metadata/decorate/events/index.js"],"names":["stringCamelCase","isEvent","event","sectionIndex","eventIndex","index","decorateEvents","_","metaVersion","modules","filter","events","isSome","reduce","result","_sectionIndex","name","toNumber","unwrap","newModule","meta","toString","is","eventRecord"],"mappings":"AAAA;AACA;AACA,SAASA,eAAT,QAAgC,gBAAhC;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,YAAxB,EAAsCC,UAAtC,EAAkD;AAChD,SAAOF,KAAK,CAACG,KAAN,CAAY,CAAZ,MAAmBF,YAAnB,IAAmCD,KAAK,CAACG,KAAN,CAAY,CAAZ,MAAmBD,UAA7D;AACD;AACD;;;AAGA,OAAO,SAASE,cAAT,CAAwBC,CAAxB,QAEJC,WAFI,EAES;AAAA,MADdC,OACc,QADdA,OACc;AACd,SAAOA,OAAO,CAACC,MAAR,CAAe;AAAA,QACpBC,MADoB,SACpBA,MADoB;AAAA,WAEhBA,MAAM,CAACC,MAFS;AAAA,GAAf,EAEcC,MAFd,CAEqB,UAACC,MAAD,SAIzBC,aAJyB,EAIP;AAAA,QAHnBJ,MAGmB,SAHnBA,MAGmB;AAAA,QAFnBN,KAEmB,SAFnBA,KAEmB;AAAA,QADnBW,IACmB,SADnBA,IACmB;AACnB,QAAMb,YAAY,GAAGK,WAAW,IAAI,EAAf,GAAoBH,KAAK,CAACY,QAAN,EAApB,GAAuCF,aAA5D;AACAD,IAAAA,MAAM,CAACd,eAAe,CAACgB,IAAD,CAAhB,CAAN,GAAgCL,MAAM,CAACO,MAAP,GAAgBL,MAAhB,CAAuB,UAACM,SAAD,EAAYC,IAAZ,EAAkBhB,UAAlB,EAAiC;AACtF;AACAe,MAAAA,SAAS,CAACC,IAAI,CAACJ,IAAL,CAAUK,QAAV,EAAD,CAAT,GAAkC;AAChCC,QAAAA,EAAE,EAAE,YAAAC,WAAW;AAAA,iBAAItB,OAAO,CAACsB,WAAD,EAAcpB,YAAd,EAA4BC,UAA5B,CAAX;AAAA,SADiB;AAEhCgB,QAAAA,IAAI,EAAJA;AAFgC,OAAlC;AAIA,aAAOD,SAAP;AACD,KAP+B,EAO7B,EAP6B,CAAhC;AAQA,WAAOL,MAAP;AACD,GAjBM,EAiBJ,EAjBI,CAAP;AAkBD","sourcesContent":["// Copyright 2017-2021 @polkadot/types authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { stringCamelCase } from '@polkadot/util';\n\nfunction isEvent(event, sectionIndex, eventIndex) {\n  return event.index[0] === sectionIndex && event.index[1] === eventIndex;\n}\n/** @internal */\n\n\nexport function decorateEvents(_, {\n  modules\n}, metaVersion) {\n  return modules.filter(({\n    events\n  }) => events.isSome).reduce((result, {\n    events,\n    index,\n    name\n  }, _sectionIndex) => {\n    const sectionIndex = metaVersion >= 12 ? index.toNumber() : _sectionIndex;\n    result[stringCamelCase(name)] = events.unwrap().reduce((newModule, meta, eventIndex) => {\n      // we don't camelCase the event name\n      newModule[meta.name.toString()] = {\n        is: eventRecord => isEvent(eventRecord, sectionIndex, eventIndex),\n        meta\n      };\n      return newModule;\n    }, {});\n    return result;\n  }, {});\n}"]},"metadata":{},"sourceType":"module"}