{"ast":null,"code":"// Copyright 2017-2021 @polkadot/types authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction trimDocs(docs) {\n  var strings = docs.map(function (doc) {\n    return doc.toString().trim();\n  });\n  var firstEmpty = strings.findIndex(function (doc) {\n    return !doc.length;\n  });\n  return firstEmpty === -1 ? strings : strings.slice(0, firstEmpty);\n}\n\nfunction mapCalls(registry, _calls) {\n  var calls = _calls.unwrapOr(null);\n\n  return registry.createType('Option<Vec<FunctionMetadataLatest>>', calls ? calls.map(function (_ref) {\n    var args = _ref.args,\n        docs = _ref.docs,\n        name = _ref.name;\n    return registry.createType('FunctionMetadataLatest', {\n      args: args,\n      docs: trimDocs(docs),\n      name: name\n    });\n  }) : null);\n}\n/** @internal */\n\n\nexport function toCallsOnly(registry, _ref2) {\n  var extrinsic = _ref2.extrinsic,\n      modules = _ref2.modules;\n  return registry.createType('MetadataLatest', {\n    extrinsic: extrinsic,\n    modules: modules.map(function (_ref3) {\n      var calls = _ref3.calls,\n          index = _ref3.index,\n          name = _ref3.name;\n      return {\n        calls: mapCalls(registry, calls),\n        index: index,\n        name: name\n      };\n    })\n  }).toJSON();\n}","map":{"version":3,"sources":["/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/@polkadot/types/metadata/util/toCallsOnly.js"],"names":["trimDocs","docs","strings","map","doc","toString","trim","firstEmpty","findIndex","length","slice","mapCalls","registry","_calls","calls","unwrapOr","createType","args","name","toCallsOnly","extrinsic","modules","index","toJSON"],"mappings":"AAAA;AACA;AACA,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAMC,OAAO,GAAGD,IAAI,CAACE,GAAL,CAAS,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,QAAJ,GAAeC,IAAf,EAAJ;AAAA,GAAZ,CAAhB;AACA,MAAMC,UAAU,GAAGL,OAAO,CAACM,SAAR,CAAkB,UAAAJ,GAAG;AAAA,WAAI,CAACA,GAAG,CAACK,MAAT;AAAA,GAArB,CAAnB;AACA,SAAOF,UAAU,KAAK,CAAC,CAAhB,GAAoBL,OAApB,GAA8BA,OAAO,CAACQ,KAAR,CAAc,CAAd,EAAiBH,UAAjB,CAArC;AACD;;AAED,SAASI,QAAT,CAAkBC,QAAlB,EAA4BC,MAA5B,EAAoC;AAClC,MAAMC,KAAK,GAAGD,MAAM,CAACE,QAAP,CAAgB,IAAhB,CAAd;;AAEA,SAAOH,QAAQ,CAACI,UAAT,CAAoB,qCAApB,EAA2DF,KAAK,GAAGA,KAAK,CAACX,GAAN,CAAU;AAAA,QAClFc,IADkF,QAClFA,IADkF;AAAA,QAElFhB,IAFkF,QAElFA,IAFkF;AAAA,QAGlFiB,IAHkF,QAGlFA,IAHkF;AAAA,WAI9EN,QAAQ,CAACI,UAAT,CAAoB,wBAApB,EAA8C;AAClDC,MAAAA,IAAI,EAAJA,IADkD;AAElDhB,MAAAA,IAAI,EAAED,QAAQ,CAACC,IAAD,CAFoC;AAGlDiB,MAAAA,IAAI,EAAJA;AAHkD,KAA9C,CAJ8E;AAAA,GAAV,CAAH,GAQjE,IARC,CAAP;AASD;AACD;;;AAGA,OAAO,SAASC,WAAT,CAAqBP,QAArB,SAGJ;AAAA,MAFDQ,SAEC,SAFDA,SAEC;AAAA,MADDC,OACC,SADDA,OACC;AACD,SAAOT,QAAQ,CAACI,UAAT,CAAoB,gBAApB,EAAsC;AAC3CI,IAAAA,SAAS,EAATA,SAD2C;AAE3CC,IAAAA,OAAO,EAAEA,OAAO,CAAClB,GAAR,CAAY;AAAA,UACnBW,KADmB,SACnBA,KADmB;AAAA,UAEnBQ,KAFmB,SAEnBA,KAFmB;AAAA,UAGnBJ,IAHmB,SAGnBA,IAHmB;AAAA,aAId;AACLJ,QAAAA,KAAK,EAAEH,QAAQ,CAACC,QAAD,EAAWE,KAAX,CADV;AAELQ,QAAAA,KAAK,EAALA,KAFK;AAGLJ,QAAAA,IAAI,EAAJA;AAHK,OAJc;AAAA,KAAZ;AAFkC,GAAtC,EAWJK,MAXI,EAAP;AAYD","sourcesContent":["// Copyright 2017-2021 @polkadot/types authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction trimDocs(docs) {\n  const strings = docs.map(doc => doc.toString().trim());\n  const firstEmpty = strings.findIndex(doc => !doc.length);\n  return firstEmpty === -1 ? strings : strings.slice(0, firstEmpty);\n}\n\nfunction mapCalls(registry, _calls) {\n  const calls = _calls.unwrapOr(null);\n\n  return registry.createType('Option<Vec<FunctionMetadataLatest>>', calls ? calls.map(({\n    args,\n    docs,\n    name\n  }) => registry.createType('FunctionMetadataLatest', {\n    args,\n    docs: trimDocs(docs),\n    name\n  })) : null);\n}\n/** @internal */\n\n\nexport function toCallsOnly(registry, {\n  extrinsic,\n  modules\n}) {\n  return registry.createType('MetadataLatest', {\n    extrinsic,\n    modules: modules.map(({\n      calls,\n      index,\n      name\n    }) => ({\n      calls: mapCalls(registry, calls),\n      index,\n      name\n    }))\n  }).toJSON();\n}"]},"metadata":{},"sourceType":"module"}