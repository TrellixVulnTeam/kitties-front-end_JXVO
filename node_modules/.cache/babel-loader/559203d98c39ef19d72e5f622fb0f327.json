{"ast":null,"code":"import _slicedToArray from \"/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { formatDate } from \"./format/formatDate.js\";\nimport { isBn } from \"./is/bn.js\";\nimport { isBuffer } from \"./is/buffer.js\";\nimport { isFunction } from \"./is/function.js\";\nimport { isObject } from \"./is/object.js\";\nimport { isU8a } from \"./is/u8a.js\";\nimport { u8aToHex } from \"./u8a/toHex.js\";\nimport { u8aToU8a } from \"./u8a/toU8a.js\";\nvar logTo = {\n  debug: 'log',\n  error: 'error',\n  log: 'log',\n  warn: 'warn'\n};\n\nfunction formatOther(value) {\n  if (value && isObject(value) && value.constructor === Object) {\n    return Object.keys(value).reduce(function (result, key) {\n      result[key] = loggerFormat(value[key]);\n      return result;\n    }, {});\n  }\n\n  return value;\n}\n\nexport function loggerFormat(value) {\n  if (Array.isArray(value)) {\n    return value.map(loggerFormat);\n  } else if (isBn(value)) {\n    return value.toString();\n  } else if (isU8a(value) || isBuffer(value)) {\n    return u8aToHex(u8aToU8a(value));\n  }\n\n  return formatOther(value);\n}\n\nfunction apply(log, type, values) {\n  var _console;\n\n  var maxSize = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n\n  if (values.length === 1 && isFunction(values[0])) {\n    var fnResult = values[0]();\n    return apply(log, type, Array.isArray(fnResult) ? fnResult : [fnResult], maxSize);\n  }\n\n  (_console = console)[logTo[log]].apply(_console, [formatDate(new Date()), type].concat(_toConsumableArray(values.map(loggerFormat).map(function (v) {\n    if (maxSize <= 0) {\n      return v;\n    }\n\n    var r = \"\".concat(v);\n    return r.length < maxSize ? v : \"\".concat(r.substr(0, maxSize), \" ...\");\n  }))));\n}\n\nfunction noop() {// noop\n}\n\nfunction parseEnv(type) {\n  var env = (typeof process === 'object' ? process : {}).env || {};\n  var maxSize = parseInt(env.DEBUG_MAX || '-1', 10);\n  var isDebugOn = false;\n  (env.DEBUG || '').toLowerCase().split(',').forEach(function (e) {\n    if (!!e && (e === '*' || type === e || e.endsWith('*') && type.startsWith(e.slice(0, -1)))) {\n      isDebugOn = true;\n    }\n\n    if (!!e && e.startsWith('-') && (type === e.slice(1) || e.endsWith('*') && type.startsWith(e.slice(1, -1)))) {\n      isDebugOn = false;\n    }\n  });\n  return [isDebugOn, isNaN(maxSize) ? -1 : maxSize];\n}\n/**\n * @name Logger\n * @summary Creates a consistent log interface for messages\n * @description\n * Returns a `Logger` that has `.log`, `.error`, `.warn` and `.debug` (controlled with environment `DEBUG=typeA,typeB`) methods. Logging is done with a consistent prefix (type of logger, date) followed by the actual message using the underlying console.\n * @example\n * <BR>\n *\n * ```javascript\n * import { logger } from '@polkadot';\n *\n * const l = logger('test');\n * ```\n */\n\n\nexport function logger(_type) {\n  var type = \"\".concat(_type.toUpperCase(), \":\").padStart(16);\n\n  var _parseEnv = parseEnv(_type.toLowerCase()),\n      _parseEnv2 = _slicedToArray(_parseEnv, 2),\n      isDebug = _parseEnv2[0],\n      maxSize = _parseEnv2[1];\n\n  return {\n    debug: isDebug ? function () {\n      for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n        values[_key] = arguments[_key];\n      }\n\n      return apply('debug', type, values, maxSize);\n    } : noop,\n    error: function error() {\n      for (var _len2 = arguments.length, values = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        values[_key2] = arguments[_key2];\n      }\n\n      return apply('error', type, values);\n    },\n    log: function log() {\n      for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        values[_key3] = arguments[_key3];\n      }\n\n      return apply('log', type, values);\n    },\n    noop: noop,\n    warn: function warn() {\n      for (var _len4 = arguments.length, values = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        values[_key4] = arguments[_key4];\n      }\n\n      return apply('warn', type, values);\n    }\n  };\n}","map":{"version":3,"sources":["/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/@polkadot/util/logger.js"],"names":["formatDate","isBn","isBuffer","isFunction","isObject","isU8a","u8aToHex","u8aToU8a","logTo","debug","error","log","warn","formatOther","value","constructor","Object","keys","reduce","result","key","loggerFormat","Array","isArray","map","toString","apply","type","values","maxSize","length","fnResult","console","Date","v","r","substr","noop","parseEnv","env","process","parseInt","DEBUG_MAX","isDebugOn","DEBUG","toLowerCase","split","forEach","e","endsWith","startsWith","slice","isNaN","logger","_type","toUpperCase","padStart","isDebug"],"mappings":"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","sourcesContent":["// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { formatDate } from \"./format/formatDate.js\";\nimport { isBn } from \"./is/bn.js\";\nimport { isBuffer } from \"./is/buffer.js\";\nimport { isFunction } from \"./is/function.js\";\nimport { isObject } from \"./is/object.js\";\nimport { isU8a } from \"./is/u8a.js\";\nimport { u8aToHex } from \"./u8a/toHex.js\";\nimport { u8aToU8a } from \"./u8a/toU8a.js\";\nconst logTo = {\n  debug: 'log',\n  error: 'error',\n  log: 'log',\n  warn: 'warn'\n};\n\nfunction formatOther(value) {\n  if (value && isObject(value) && value.constructor === Object) {\n    return Object.keys(value).reduce((result, key) => {\n      result[key] = loggerFormat(value[key]);\n      return result;\n    }, {});\n  }\n\n  return value;\n}\n\nexport function loggerFormat(value) {\n  if (Array.isArray(value)) {\n    return value.map(loggerFormat);\n  } else if (isBn(value)) {\n    return value.toString();\n  } else if (isU8a(value) || isBuffer(value)) {\n    return u8aToHex(u8aToU8a(value));\n  }\n\n  return formatOther(value);\n}\n\nfunction apply(log, type, values, maxSize = -1) {\n  if (values.length === 1 && isFunction(values[0])) {\n    const fnResult = values[0]();\n    return apply(log, type, Array.isArray(fnResult) ? fnResult : [fnResult], maxSize);\n  }\n\n  console[logTo[log]](formatDate(new Date()), type, ...values.map(loggerFormat).map(v => {\n    if (maxSize <= 0) {\n      return v;\n    }\n\n    const r = `${v}`;\n    return r.length < maxSize ? v : `${r.substr(0, maxSize)} ...`;\n  }));\n}\n\nfunction noop() {// noop\n}\n\nfunction parseEnv(type) {\n  const env = (typeof process === 'object' ? process : {}).env || {};\n  const maxSize = parseInt(env.DEBUG_MAX || '-1', 10);\n  let isDebugOn = false;\n  (env.DEBUG || '').toLowerCase().split(',').forEach(e => {\n    if (!!e && (e === '*' || type === e || e.endsWith('*') && type.startsWith(e.slice(0, -1)))) {\n      isDebugOn = true;\n    }\n\n    if (!!e && e.startsWith('-') && (type === e.slice(1) || e.endsWith('*') && type.startsWith(e.slice(1, -1)))) {\n      isDebugOn = false;\n    }\n  });\n  return [isDebugOn, isNaN(maxSize) ? -1 : maxSize];\n}\n/**\n * @name Logger\n * @summary Creates a consistent log interface for messages\n * @description\n * Returns a `Logger` that has `.log`, `.error`, `.warn` and `.debug` (controlled with environment `DEBUG=typeA,typeB`) methods. Logging is done with a consistent prefix (type of logger, date) followed by the actual message using the underlying console.\n * @example\n * <BR>\n *\n * ```javascript\n * import { logger } from '@polkadot';\n *\n * const l = logger('test');\n * ```\n */\n\n\nexport function logger(_type) {\n  const type = `${_type.toUpperCase()}:`.padStart(16);\n  const [isDebug, maxSize] = parseEnv(_type.toLowerCase());\n  return {\n    debug: isDebug ? (...values) => apply('debug', type, values, maxSize) : noop,\n    error: (...values) => apply('error', type, values),\n    log: (...values) => apply('log', type, values),\n    noop,\n    warn: (...values) => apply('warn', type, values)\n  };\n}"]},"metadata":{},"sourceType":"module"}