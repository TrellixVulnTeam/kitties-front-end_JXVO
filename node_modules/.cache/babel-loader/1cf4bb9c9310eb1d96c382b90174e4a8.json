{"ast":null,"code":"// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport scryptsy from 'scryptsy';\nimport { bufferToU8a, u8aToBuffer, u8aToU8a } from '@polkadot/util';\nimport { isReady, scrypt } from '@polkadot/wasm-crypto';\nimport { randomAsU8a } from \"../random/asU8a.js\";\nimport { DEFAULT_PARAMS } from \"./defaults.js\";\nexport function scryptEncode(passphrase) {\n  var salt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : randomAsU8a();\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_PARAMS;\n  var password = isReady() ? scrypt(u8aToU8a(passphrase), salt, Math.log2(params.N), params.r, params.p) : bufferToU8a(scryptsy(u8aToBuffer(u8aToU8a(passphrase)), u8aToBuffer(salt), params.N, params.r, params.p, 64));\n  return {\n    params: params,\n    password: password,\n    salt: salt\n  };\n}","map":{"version":3,"sources":["/home/spren/workspace/slides/advanced/term-03/03_polkadot-js-api/kitties/frontend/node_modules/@polkadot/util-crypto/scrypt/encode.js"],"names":["scryptsy","bufferToU8a","u8aToBuffer","u8aToU8a","isReady","scrypt","randomAsU8a","DEFAULT_PARAMS","scryptEncode","passphrase","salt","params","password","Math","log2","N","r","p"],"mappings":"AAAA;AACA;AACA,OAAOA,QAAP,MAAqB,UAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,QAAnC,QAAmD,gBAAnD;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,uBAAhC;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAO,SAASC,YAAT,CAAsBC,UAAtB,EAAiF;AAAA,MAA/CC,IAA+C,uEAAxCJ,WAAW,EAA6B;AAAA,MAAzBK,MAAyB,uEAAhBJ,cAAgB;AACtF,MAAMK,QAAQ,GAAGR,OAAO,KAAKC,MAAM,CAACF,QAAQ,CAACM,UAAD,CAAT,EAAuBC,IAAvB,EAA6BG,IAAI,CAACC,IAAL,CAAUH,MAAM,CAACI,CAAjB,CAA7B,EAAkDJ,MAAM,CAACK,CAAzD,EAA4DL,MAAM,CAACM,CAAnE,CAAX,GAAmFhB,WAAW,CAACD,QAAQ,CAACE,WAAW,CAACC,QAAQ,CAACM,UAAD,CAAT,CAAZ,EAAoCP,WAAW,CAACQ,IAAD,CAA/C,EAAuDC,MAAM,CAACI,CAA9D,EAAiEJ,MAAM,CAACK,CAAxE,EAA2EL,MAAM,CAACM,CAAlF,EAAqF,EAArF,CAAT,CAAtH;AACA,SAAO;AACLN,IAAAA,MAAM,EAANA,MADK;AAELC,IAAAA,QAAQ,EAARA,QAFK;AAGLF,IAAAA,IAAI,EAAJA;AAHK,GAAP;AAKD","sourcesContent":["// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport scryptsy from 'scryptsy';\nimport { bufferToU8a, u8aToBuffer, u8aToU8a } from '@polkadot/util';\nimport { isReady, scrypt } from '@polkadot/wasm-crypto';\nimport { randomAsU8a } from \"../random/asU8a.js\";\nimport { DEFAULT_PARAMS } from \"./defaults.js\";\nexport function scryptEncode(passphrase, salt = randomAsU8a(), params = DEFAULT_PARAMS) {\n  const password = isReady() ? scrypt(u8aToU8a(passphrase), salt, Math.log2(params.N), params.r, params.p) : bufferToU8a(scryptsy(u8aToBuffer(u8aToU8a(passphrase)), u8aToBuffer(salt), params.N, params.r, params.p, 64));\n  return {\n    params,\n    password,\n    salt\n  };\n}"]},"metadata":{},"sourceType":"module"}